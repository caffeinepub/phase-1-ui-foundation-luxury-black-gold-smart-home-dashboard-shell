{
  "kind": "build_request",
  "title": "Fix Rooms stepper so new room tiles appear immediately with auto-generated names",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Fix the Rooms page so that when the user increases the room count using the plus (+) control, a new room tile appears immediately in the main rooms grid (without requiring a page refresh).",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "المفروض في نفس اللحظه يظهر مربع جديد لاكن هو حاليا مش بيظهر ودا الغلط"
        ]
      },
      "acceptanceCriteria": [
        "On Rooms page, clicking the + button increases the count and a corresponding additional RoomTile renders immediately in the grid.",
        "The new tile appears without manual reload/navigation and without waiting for a long delay.",
        "No regression: decreasing the count hides extra tiles accordingly."
      ]
    },
    {
      "id": "REQ-2",
      "text": "Ensure newly displayed rooms have an auto-generated default name in English using the format \"Room N\" (matching the room number/id), and that the name can be edited later using the existing room editing UI.",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "الاسم يتولد تلقائيا وانا لاحقا هتم تعديلة"
        ]
      },
      "acceptanceCriteria": [
        "When a new room becomes visible due to increasing the count, its displayed name is auto-generated as \"Room N\" (e.g., \"Room 6\").",
        "The existing inline edit flow on RoomTile can rename the room and the updated name persists after refresh (stored via backend)."
      ]
    },
    {
      "id": "REQ-3",
      "text": "Ensure the React Query room-list data refreshes reliably when the display count changes (increment/decrement), so that the UI state and fetched data stay in sync.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "لما ازود غرف تظهرلها مربع باسمها"
        ]
      },
      "acceptanceCriteria": [
        "Changing the room count triggers a consistent update of the rooms list (no stale list that ignores the new count).",
        "If a fetch is needed, the UI transitions cleanly (no permanent loading state; errors still show the existing retry UI)."
      ]
    }
  ],
  "constraints": [
    "Do not edit any files under frontend/src/components/ui or any other paths listed as immutable in SYSTEM_CONTEXT.",
    "Keep all Motoko logic in the single backend actor (backend/main.mo). Generate backend/migration.mo only if state schema changes are required (not expected for this fix).",
    "Use English for any user-facing UI text introduced or modified by this change."
  ],
  "nonGoals": [
    "Adding room icons or images inside the room tiles (tiles should remain name-focused as requested).",
    "Introducing new authentication providers beyond Internet Identity.",
    "Implementing advanced room details content on the Room Details page beyond the existing minimal view."
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}