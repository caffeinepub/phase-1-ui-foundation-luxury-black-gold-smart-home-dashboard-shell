{
  "kind": "build_request",
  "title": "Remove manual Add Room flow, show room icons by selected count, and add dedicated Room Details page navigation",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-6",
      "text": "Remove the manual \"Add Room\" UI and creation flow from the Rooms page so rooms are no longer created via an \"Add Room\" button/dialog. The Rooms page must not render the Add Room button in the header and must not show an empty-state that prompts creating the first room.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-4"
        ],
        "quotes": [
          "الغي زر اضافه غرف دي"
        ]
      },
      "acceptanceCriteria": [
        "On the Rooms page header, the \"Add Room\" button is not present.",
        "If the backend returns zero rooms (unexpected), the UI does not present an action to create rooms; it should show a non-creating informational empty state or fallback guidance instead.",
        "No user path in the UI triggers `CreateRoomDialog` for creating rooms from the Rooms page."
      ]
    },
    {
      "id": "REQ-7",
      "text": "Update the Rooms page \"number of rooms\" selector behavior so that selecting a room count displays exactly that many room icons/cards in the grid, derived from the pre-created rooms (IDs 1–100). The displayed rooms must be consistent with the selected count and update immediately when the count changes.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-4"
        ],
        "quotes": [
          "ولما احدد عدد الغرف تظهر ايقونات علي حسب العدد"
        ]
      },
      "acceptanceCriteria": [
        "Changing the room count control updates the grid to show exactly N rooms (N = selected count).",
        "The grid shows the first N room entries (by room id) from the available pre-created rooms.",
        "If some of the first N rooms are hidden and \"Show Hidden\" is off, the UI behavior is defined and consistent (either: include hidden rooms in the count and visually indicate hidden; or exclude hidden rooms and fill up to N with next visible rooms)."
      ]
    },
    {
      "id": "REQ-8",
      "text": "Implement navigation to a dedicated Room Details screen when the user clicks a room icon/card in the Rooms grid. The Room Details screen must be a separate page-level view (not an inline swap inside the Rooms page) and must show: room details, room statistics, room electricity/consumption section, and the room's devices list/controls (reusing existing Room Dashboard functionality where applicable). Include a Back control to return to the Rooms page.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-4"
        ],
        "quotes": [
          "ولما ادوس علي اي غرفه تحولني لصفحه جديدة فيها تفاصيل الغرفه واحصائياتها واستهلاكها واجهزتها"
        ]
      },
      "acceptanceCriteria": [
        "Clicking a room card/icon from the Rooms grid navigates to a dedicated Room Details screen.",
        "The Room Details screen displays (at minimum) the room name and status, a statistics section, an electricity/consumption section, and a devices section (list + controls).",
        "The Back action returns the user to the Rooms page and preserves the previously selected room count (and other relevant list UI state where feasible)."
      ]
    }
  ],
  "constraints": [
    "Backend must remain single-actor (all Motoko logic in backend/main.mo).",
    "Do not edit files under frontend/immutablePaths (e.g., frontend/src/hooks/useInternetIdentity.ts(x), frontend/src/hooks/useActor.ts, frontend/src/main.tsx, frontend/src/components/ui)."
  ],
  "nonGoals": [
    "Adding third-party authentication providers (Internet Identity only).",
    "Adding real-time features (WebSockets/push).",
    "Introducing external databases or services."
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}